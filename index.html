<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ุฏุงุจุช ุงุฑ | ูุฏุฑุช ููุฏ ู ุงูุณููู</title>
  <link rel="stylesheet" href="./styles.css" />
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <div class="logo">๐</div>
      <div class="title">
        <h1>ุฏุงุจุชโุงุฑ</h1>
        <p>ุซุจุช ููุฏุ ุงูุณูููุ ุชุบุฐู + ุฏุงุดุจูุฑุฏ ู ูุดุฏุงุฑูุง ุงูู</p>
      </div>
    </div>
    <div class="header-actions">
      <button id="btn-seed" class="btn btn-ghost" title="ุฏุชุง ููููู ุจุฑุง ุฌุงู ฺฏุฑูุชู ุฏุงุดุจูุฑุฏ">๐ฅ ุฏุชุง ููููู</button>
      <button id="btn-export" class="btn btn-ghost" title="ุฎุฑูุฌ ฺฏุฑูุชู ุงุฒ ุฏุงุฏูโูุง">โฌ๏ธ ุฎุฑูุฌ JSON</button>
      <label class="btn btn-ghost" title="ูุฑูุฏ ฺฏุฑูุชู ุงุฒ ูุงู JSON">
        โฌ๏ธ ูุฑูุฏ JSON
        <input id="file-import" type="file" accept="application/json" hidden />
      </label>
      <button id="btn-reset" class="btn btn-danger" title="ูพุงฺฉ ฺฉุฑุฏู ููู ุฏุงุฏูโูุง">๐๏ธ ุฑุณุช</button>
    </div>
  </header>

  <main class="container">
    <section class="grid">
      <div class="card">
        <h2>๐ค ูพุฑููุงู</h2>
        <form id="profile-form" class="form">
          <div class="row">
            <label>ูุงุญุฏ</label>
            <select name="unit">
              <option value="mg/dL" selected>mg/dL</option>
              <option value="mmol/L">mmol/L</option>
            </select>
          </div>
          <div class="row">
            <label>ููุน</label>
            <select name="diabetesType">
              <option value="Type 1" selected>Type 1</option>
              <option value="Type 2">Type 2</option>
              <option value="GDM">ุจุงุฑุฏุงุฑ (GDM)</option>
              <option value="Other">ุณุงุฑ</option>
            </select>
          </div>
          <div class="row">
            <label>ูุฏู ููุฏ ูพุงู</label>
            <input name="targetLow" type="number" min="40" max="200" value="80" />
          </div>
          <div class="row">
            <label>ูุฏู ููุฏ ุจุงูุง</label>
            <input name="targetHigh" type="number" min="80" max="400" value="180" />
          </div>
          <button class="btn btn-primary" type="submit">ุฐุฎุฑู ูพุฑููุงู</button>
        </form>
      </div>

      <div class="card">
        <h2>๐ฉธ ุซุจุช ููุฏ</h2>
        <form id="glucose-form" class="form">
          <div class="row">
            <label>ุชุงุฑุฎ</label>
            <input name="date" type="date" />
          </div>
          <div class="row">
            <label>ุฒูุงู/ุญุงูุช</label>
            <select name="slot">
              <option value="FBS">FBS (ูุงุดุชุง)</option>
              <option value="AfterBreakfast2h">ฒ ุณุงุนุช ุจุนุฏ ุตุจุญุงูู</option>
              <option value="BeforeLunch">ูุจู ูุงูุงุฑ</option>
              <option value="AfterLunch2h">ฒ ุณุงุนุช ุจุนุฏ ูุงูุงุฑ</option>
              <option value="BeforeDinner">ูุจู ุดุงู</option>
              <option value="AfterDinner2h">ฒ ุณุงุนุช ุจุนุฏ ุดุงู</option>
              <option value="BeforeBed">ูุจู ุฎูุงุจ</option>
            </select>
          </div>
          <div class="row">
            <label>ุนุฏุฏ ููุฏ</label>
            <input name="value" type="number" min="20" max="600" required placeholder="ูุซูุงู 145" />
          </div>
          <div class="row">
            <label>ุงุฏุฏุงุดุช (ุงุฎุชุงุฑ)</label>
            <input name="note" type="text" placeholder="ูุซูุงู ุงุณุชุฑุณ ุงูุชุญุงูุ ูุฑุฒุดุ ุชุจ..." />
          </div>
          <button class="btn btn-primary" type="submit">ุซุจุช ููุฏ</button>
          <p class="hint">โ ูุดุฏุงุฑ: ฺฉูุชุฑ ุงุฒ 70 = ููพู / ุจุงูุงุชุฑ ุงุฒ 300 = ูุงูพุฑ ุดุฏุฏ</p>
        </form>

        <div id="alert-box" class="alert" hidden></div>
      </div>

      <div class="card">
        <h2>๐ ุซุจุช ุงูุณููู</h2>
        <form id="insulin-form" class="form">
          <div class="row">
            <label>ุชุงุฑุฎ</label>
            <input name="date" type="date" />
          </div>
          <div class="row">
            <label>ููุน</label>
            <select name="kind">
              <option value="Basal">Basal (ุทููุงู ุงุซุฑ)</option>
              <option value="Bolus">Bolus (ฺฉูุชุงู ุงุซุฑ)</option>
              <option value="Correction">Correction (ุงุตูุงุญ)</option>
            </select>
          </div>
          <div class="row">
            <label>ูุงู ุงูุณููู</label>
            <input name="name" type="text" placeholder="ูุซูุงู Lantus ุง Novorapid" required />
          </div>
          <div class="row">
            <label>ููุฏุงุฑ (ูุงุญุฏ)</label>
            <input name="units" type="number" min="0" max="100" step="0.5" required placeholder="ูุซูุงู 16" />
          </div>
          <div class="row">
            <label>ุณุงุนุช (ุงุฎุชุงุฑ)</label>
            <input name="time" type="time" />
          </div>
          <div class="row">
            <label>ูุนุฏู (ุงุฎุชุงุฑ)</label>
            <select name="mealRef">
              <option value="">โ</option>
              <option value="Breakfast">ุตุจุญุงูู</option>
              <option value="Lunch">ูุงูุงุฑ</option>
              <option value="Dinner">ุดุงู</option>
            </select>
          </div>
          <div class="row">
            <label>ุงุฏุขูุฑ Basal</label>
            <div class="inline">
              <input id="basal-reminder" name="reminder" type="checkbox" />
              <span>ูุนุงู ุดูุฏ (ุฏุฑ ุงู ูุณุฎูุ ุงุฏุขูุฑ ุฏุงุฎู ูุฑูุฑฺฏุฑ ุงุณุช)</span>
            </div>
          </div>
          <button class="btn btn-primary" type="submit">ุซุจุช ุงูุณููู</button>
        </form>
        <p class="hint">โฐ ุงฺฏุฑ Basal + ุณุงุนุช + ุงุฏุขูุฑ ุฑุง ูุนุงู ฺฉูุ ุฏุฑ ููุงู ุฏุณุชฺฏุงู ุงุนูุงู ูุฑูุฑฺฏุฑ ูโฺฏุฑ.</p>
      </div>

      <div class="card">
        <h2>๐ฝ๏ธ ุซุจุช ุชุบุฐู</h2>
        <form id="meal-form" class="form">
          <div class="row">
            <label>ุชุงุฑุฎ</label>
            <input name="date" type="date" />
          </div>
          <div class="row">
            <label>ูุนุฏู</label>
            <select name="meal">
              <option value="Breakfast">ุตุจุญุงูู</option>
              <option value="Lunch">ูุงูุงุฑ</option>
              <option value="Dinner">ุดุงู</option>
              <option value="Snack">ูุงูโูุนุฏู</option>
            </select>
          </div>
          <div class="row">
            <label>ุดุฑุญ ุบุฐุง</label>
            <input name="desc" type="text" required placeholder="ูุซูุงู ูุงู + ูพูุฑ + ฺุง" />
          </div>
          <div class="row">
            <label>ฺฉุฑุจููุฏุฑุงุช ฺฉู (ฺฏุฑู)</label>
            <input name="carbs" type="number" min="0" max="300" step="1" required placeholder="ูุซูุงู 45" />
          </div>
          <div class="row">
            <label>ููฺฉ ุจู ููุฏ ฒ ุณุงุนุช ุจุนุฏ</label>
            <select name="linkToSlot">
              <option value="">โ</option>
              <option value="AfterBreakfast2h">ฒ ุณุงุนุช ุจุนุฏ ุตุจุญุงูู</option>
              <option value="AfterLunch2h">ฒ ุณุงุนุช ุจุนุฏ ูุงูุงุฑ</option>
              <option value="AfterDinner2h">ฒ ุณุงุนุช ุจุนุฏ ุดุงู</option>
            </select>
          </div>
          <button class="btn btn-primary" type="submit">ุซุจุช ูุนุฏู</button>
        </form>
        <p class="hint">๐ ุงู ููฺฉ ฺฉูฺฉ ูโฺฉูุฏ ุชุญูู ยซุงุซุฑ ูุนุฏูยป ูุงูุนโุชุฑ ุฏุฏู ุดูุฏ.</p>
      </div>
    </section>

    <section class="grid">
      <div class="card span-2">
        <h2>๐ ุฏุงุดุจูุฑุฏ</h2>

        <div class="kpis" id="kpi-row"></div>

        <div class="dash-controls">
          <div class="pill">
            <span>ููุงุด:</span>
            <select id="range-select">
              <option value="day" selected>ุฑูุฒ</option>
              <option value="week">ููุชู</option>
            </select>
          </div>
          <div class="pill">
            <span>ุชุงุฑุฎ:</span>
            <input id="range-date" type="date" />
          </div>
        </div>

        <div class="chart-wrap">
          <canvas id="glucoseChart" height="110"></canvas>
        </div>

        <div class="subgrid">
          <div class="mini">
            <h3>๐จ ุฑูุฏุงุฏูุง ุงูู</h3>
            <ul id="safety-list" class="list"></ul>
          </div>
          <div class="mini">
            <h3>๐ฝ๏ธ ุชุญูู ุงุซุฑ ูุนุฏูโูุง</h3>
            <ul id="meal-analysis" class="list"></ul>
          </div>
          <div class="mini">
            <h3>๐ ฺฏุฒุงุฑุด ุฎูุงุตู</h3>
            <div id="summary" class="summary"></div>
          </div>
        </div>

      </div>

      <div class="card">
        <h2>๐ ุขููุฒุด ุณุฑุน</h2>
        <div class="edu">
          <details open>
            <summary>ููพู (ููุฏ ูพุงู) ฺู ฺฉููุ</summary>
            <p>ุงฺฏุฑ ููุฏ ุฒุฑ 70 ุงุณุช: 15 ฺฏุฑู ููุฏ ุณุฑุนโุงูุงุซุฑ (ูุซู ุขุจููู/ููุฏ/ุนุณู) ู 15 ุฏููู ุจุนุฏ ุฏูุจุงุฑู ุชุณุช. ุงฺฏุฑ ุจูุชุฑ ูุดุฏ ุชฺฉุฑุงุฑ. ุงฺฏุฑ ุจููุด/ุงุณุชูุฑุงุบ ุง ุนุฏู ุจูุจูุฏ: ฺฉูฺฉ ูพุฒุดฺฉ ููุฑ.</p>
          </details>
          <details>
            <summary>ูุงูพุฑ ุดุฏุฏ (ููุฏ ุฎู ุจุงูุง) ฺู ฺฉููุ</summary>
            <p>ุงฺฏุฑ ููุฏ ุจุงูุง 300 ุงุณุช: ุขุจ ฺฉุงูุ ุจุฑุฑุณ ุนูุงุฆูุ ุฏุฑ ุตูุฑุช ุงูฺฉุงู ุจุฑุฑุณ ฺฉุชูู (ุทุจู ุฏุณุชูุฑ ูพุฒุดฺฉ). ุงฺฏุฑ ุชููุน/ุงุณุชูุฑุงุบ/ุฎูุงุจโุขููุฏฺฏ/ุชููุณ ุบุฑุนุงุฏ: ุงูุฑฺุงูุณ.</p>
          </details>
          <details>
            <summary>ูฺฉุงุช ุชุบุฐูโุง ุจุฑุง ฺฉูุชุฑู ุจูุชุฑ</summary>
            <ul>
              <li>ฺฉุฑุจููุฏุฑุงุช ุฑุง ุฏูู ุซุจุช ฺฉู (ฺฏุฑู) ู ุงุซุฑุด ุฑุง ุจุง ููุฏ ฒ ุณุงุนุช ุจุนุฏ ุจุจู.</li>
              <li>ุบุฐุงูุง ฺุฑุจ/ูพุฑูุชุฆู ููฺฉู ุงุณุช ุงูุฒุงุด ููุฏ ุฑุง ุฏุฑุชุฑ ูุดุงู ุฏููุฏ.</li>
              <li>ูุจุฑ ุจุดุชุฑ + ูพุฑูุชุฆู ููุงุณุจ ูโุชูุงูุฏ ููุณุงู ุฑุง ฺฉูุชุฑ ฺฉูุฏ.</li>
            </ul>
          </details>
          <p class="hint">โ๏ธ ุงู ุงูพ ุฌุงฺฏุฒู ูพุฒุดฺฉ ูุณุชุ ุตุฑูุงู ุจุฑุง ุซุจุชุ ฺฏุฒุงุฑุด ู ฺฉูฺฉโุชุตููโฺฏุฑ ุงุณุช.</p>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>๐๏ธ ุฏุงุฏูโูุง</h2>
      <div class="tables">
        <div>
          <h3>ููุฏ</h3>
          <div class="table-wrap">
            <table id="tbl-glucose">
              <thead><tr><th>ุชุงุฑุฎ</th><th>ุญุงูุช</th><th>ููุฏ</th><th>ุงุฏุฏุงุดุช</th><th></th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
        <div>
          <h3>ุงูุณููู</h3>
          <div class="table-wrap">
            <table id="tbl-insulin">
              <thead><tr><th>ุชุงุฑุฎ</th><th>ููุน</th><th>ูุงู</th><th>ูุงุญุฏ</th><th>ุณุงุนุช</th><th>ูุนุฏู</th><th></th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
        <div>
          <h3>ุชุบุฐู</h3>
          <div class="table-wrap">
            <table id="tbl-meal">
              <thead><tr><th>ุชุงุฑุฎ</th><th>ูุนุฏู</th><th>ุดุฑุญ</th><th>ฺฉุฑุจููุฏุฑุงุช</th><th>ููฺฉ</th><th></th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

  </main>

  <footer class="footer">
    ุณุงุฎุชู ุดุฏู ุจุฑุง MVP ยซุฏุงุจุชโุงุฑยป โ ูุณุฎู ูุจ (ุขููุงู/ููฺฉุงู) ๐
  </footer>

  <script src="./app.js"></script>
</body>
</html>
